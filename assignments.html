<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
<title>Assignment Reminder</title>

<style>
    *, *::before, *::after { box-sizing: border-box; }

    body {
        font-family: Arial, sans-serif;
        background: linear-gradient(135deg, #6a11cb, #2575fc);
        color: white;
        margin: 0;
        padding-top: 80px; /* space for the back button */
    }

    h1 {
        text-align: center;
        margin: 20px 0;
        font-size: 2.5rem;
        font-weight: 900;
        text-shadow: 0 0 12px rgba(0,0,0,0.7);
        animation: fadeIn 1s ease;
    }

    .container {
        width: 90%;
        max-width: 900px;
        margin: 20px auto 40px;
        padding: 25px;
        background: rgba(255,255,255,0.12);
        border-radius: 25px;
        backdrop-filter: blur(10px);
        display: flex;
        flex-direction: column;
        align-items: center;
        animation: slideUp 1s ease;
        overflow: hidden;
    }

    input, select, button {
        width: 100%;
        max-width: 100%;
        padding: 12px;
        margin-bottom: 15px;
        border-radius: 12px;
        border: none;
        font-size: 1rem;
        outline: none;
    }

    button {
        font-size: 1.1rem;
        font-weight: bold;
        cursor: pointer;
        background: black;
        color: white;
        transition: 0.25s;
    }

    button:hover {
        background: #111;
        transform: scale(1.03);
    }

    .assignments-grid {
        width: 100%;
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
        gap: 15px;
        margin-top: 20px;
    }

    .assignment-card {
        padding: 15px;
        border-radius: 20px;
        position: relative;
        transition: 0.3s;
        animation: popIn 0.8s ease;
        color: #222;
        display: flex;
        flex-direction: column;
        min-height: 100px;
        box-shadow: 0 4px 15px rgba(0,0,0,0.3);
        background: linear-gradient(135deg, #fff6b7, #f6416c);
        word-break: break-word;
    }

    .assignment-card:hover {
        transform: scale(1.05);
        box-shadow: 0 0 20px rgba(255,255,255,0.5);
    }

    .assignment-card h3 {
        margin: 0 0 8px 0;
        font-size: 1.1rem;
    }

    .assignment-card p {
        margin: 0;
        font-size: 0.95rem;
        white-space: pre-wrap;
        word-wrap: break-word;
        overflow-wrap: break-word;
    }

    .assignment-buttons {
        margin-top: 10px;
        display: flex;
        gap: 10px;
    }

    .assignment-buttons button {
        flex: 1;
        padding: 8px;
        font-size: 0.9rem;
        border-radius: 10px;
        cursor: pointer;
    }

    .assignment-buttons button.edit { background: #4c6ef5; color: white; }
    .assignment-buttons button.delete { background: #ff4d4d; color: white; }

    .high { background: linear-gradient(135deg, #ff5f6d, #ffc371); }
    .medium { background: linear-gradient(135deg, #f6d365, #fda085); }
    .low { background: linear-gradient(135deg, #a1c4fd, #c2e9fb); }

    .back-btn {
        position: fixed; /* stays on top when scrolling */
        top: 20px;
        left: 20px;
        padding: 10px 16px;
        background: rgba(255, 255, 255, 0.65);
        border-radius: 10px;
        text-decoration: none;
        color: #000;
        backdrop-filter: blur(10px);
        font-weight: 700;
        z-index: 9999; /* always on top */
    }

    /* Animations */
    @keyframes fadeIn { from {opacity: 0;} to {opacity: 1;} }
    @keyframes popIn { 0% {transform: scale(0.7); opacity: 0;} 100% {transform: scale(1); opacity: 1;} }
    @keyframes slideUp { from {transform: translateY(40px); opacity: 0;} to {transform: translateY(0); opacity: 1;} }

    /* Responsive */
    @media (max-width: 600px) {
        h1 { font-size: 2rem; }
        .container { padding: 15px; }
        input, select, button { font-size: 1rem; }
        .assignments-grid { grid-template-columns: 1fr; }
        .back-btn { padding: 8px 14px; font-size: 0.9rem; }
    }
</style>
</head>
<body>
<a href="index.html" class="back-btn">â¬… Back</a>

<h1>Assignment Reminder</h1>

<div class="container">
    <input type="text" id="assignmentTitle" placeholder="Assignment Title">
    <input type="text" id="assignmentSubject" placeholder="Subject">
    <input type="date" id="assignmentDue">
    <select id="assignmentPriority">
        <option value="high">High Priority</option>
        <option value="medium">Medium Priority</option>
        <option value="low">Low Priority</option>
    </select>
    <button onclick="addOrUpdateAssignment()">Add Assignment</button>

    <div class="assignments-grid" id="assignmentsGrid"></div>
</div>

<script>
let assignments = JSON.parse(localStorage.getItem('assignments')) || [];
let editIndex = null;

function saveAssignments() {
    localStorage.setItem('assignments', JSON.stringify(assignments));
}

function renderAssignments() {
    const grid = document.getElementById('assignmentsGrid');
    grid.innerHTML = '';

    // Sort by due date
    assignments.sort((a, b) => new Date(a.due) - new Date(b.due));

    const today = new Date().toISOString().split('T')[0];

    assignments.forEach((assignment, index) => {
        const card = document.createElement('div');
        card.className = `assignment-card ${assignment.priority}`;
        card.innerHTML = `
            <h3>${assignment.title}</h3>
            <p>Subject: ${assignment.subject}</p>
            <p>Due: ${assignment.due}</p>
            <div class="assignment-buttons">
                <button class="edit">Edit</button>
                <button class="delete">Delete</button>
            </div>
        `;

        // Highlight if due today
        if (assignment.due === today) {
            card.style.border = "3px solid yellow";
        }

        card.querySelector('.edit').onclick = () => {
            document.getElementById('assignmentTitle').value = assignment.title;
            document.getElementById('assignmentSubject').value = assignment.subject;
            document.getElementById('assignmentDue').value = assignment.due;
            document.getElementById('assignmentPriority').value = assignment.priority;
            editIndex = index;
        };

        card.querySelector('.delete').onclick = () => {
            if(confirm('Are you sure you want to delete this assignment?')) {
                assignments.splice(index,1);
                saveAssignments();
                renderAssignments();
            }
        };

        grid.appendChild(card);
    });
}

function addOrUpdateAssignment() {
    const title = document.getElementById('assignmentTitle').value.trim();
    const subject = document.getElementById('assignmentSubject').value.trim();
    const due = document.getElementById('assignmentDue').value;
    const priority = document.getElementById('assignmentPriority').value;

    if (!title || !subject || !due) {
        alert("Please fill all fields!");
        return;
    }

    if(editIndex !== null) {
        assignments[editIndex] = { title, subject, due, priority };
        editIndex = null;
    } else {
        assignments.push({ title, subject, due, priority });
    }

    document.getElementById('assignmentTitle').value = '';
    document.getElementById('assignmentSubject').value = '';
    document.getElementById('assignmentDue').value = '';
    document.getElementById('assignmentPriority').value = 'high';

    saveAssignments();
    renderAssignments();
}

renderAssignments();
</script>

</body>
</html>
